#!/usr/bin/expect -f

set site "lore"
set expire "20251121"
set code "25g4-a7cu-aerf-cyrc-hvv2"

# Imposta un timeout lungo per non bloccarsi
set timeout -1

# Avvia lo script di installazione
spawn ./InstallSICStus

# Sequenza di domande e risposte
expect "*Install SICStus*yes*?"
send "yes\r"

expect "*Where do you want to install SICStus*"
send "/usr/local/sicstus\r"

expect "*Create*yes*?"
send "yes\r"

expect "*Sitename*"
send "$site\r"

expect "*License-code*"
send "$code\r"

expect "*Expiration date*"
send "$expire\r"

expect "*Install the pre-built binaries*yes*?"
send "yes\r"

# Aspetta che lo script di installazione finisca
expect eof